- ruleID: test-filepath-chain-00000
  description: Test filepath filtering in chained conditions
  effort: 1
  category: potential
  labels:
  - konveyor.io/test=filepath-filtering
  when:
    and:
    - as: tsxFiles
      builtin.file:
        pattern: "*.tsx"
    - from: tsxFiles
      builtin.filecontent:
        pattern: "import.*React"
        filepaths: '{{tsxFiles.filepaths}}'
  message: |
    This file imports React and is a TSX file.
    This rule uses filepath filtering to only check files identified in the first condition.
